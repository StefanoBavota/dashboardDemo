<div class="fullpage">
  <div class="container">
  <div class="row title-row">
    <div class="col-4 mt-4">
      LISTA UTENTI

    </div>
    <div class="col-4 d-flex justify-content-end mt-4">
      <button class="btn button primary w-50" (click)="onClickNew()">
        NUOVO UTENTE
      </button>
    </div>
  </div>
  <div class="row filters-row">
    <app-filter-row [filters]="filters" (filtersEmitter)="onFiltersChange($event)" [pageSize]="limit"
      (pageSizeEmitter)="onPageSizeChange($event)"></app-filter-row>
  </div>

  <div class="row table-row" *ngIf="success; else failure">
    <table class="table table-striped table-bordered table-fixed">
      <thead>
        <tr>
          <th scope="col" class="th-sm">id</th>
          <th scope="col" class="th-lg">Nome</th>
          <th scope="col" class="th-lg">Cognome</th>
          <th scope="col" class="th-sm">Email</th>
          <th scope="col" class="th-sm">Ruolo</th>
          <th scope="col" class="th-sm"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor=" let user of users">
          <th scope="row">{{user.id}}</th>
          <td>{{user.firstName}}</td>
          <td>{{user.lastName}}</td>
          <td>{{user.email}}</td>
          <td>{{user.role}}</td>
          <td class="buttons-col">
            <i class="bi bi-pencil-square " style="font-size: 2rem;" (click)="onClickEdit(user)"></i>
            <i class="bi bi-trash" style="font-size: 2rem;" (click)="onClickDelete(user)"></i>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #failure>
    <p>Non sono presenti risultati per questa ricerca</p>
  </ng-template>


  <div class="row page">
    <app-table-pagination [totalPages]="totalPages" [actualPage]="actualPage" (clickEvent)="onPageClick($event)">
    </app-table-pagination>
  </div>
</div>
</div>
